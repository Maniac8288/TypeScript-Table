@model IEnumerable<TypeScript_Table.Models.Users>
@{
    ViewBag.Title = "Home Page";
}
<input type="hidden" id="serverJSON" value="@Newtonsoft.Json.JsonConvert.SerializeObject(Model)" />
<div class="page-header">
    <h2 class="text-center">Регистрация пользовтеля</h2>
</div>

<div class="row">

    <div class="col-md-3">
        <div class="panel panel-info">
            <div class="panel-heading">
                <h2 class="panel-title">Добавить нового пользователя</h2>
            </div>
            <div class="panel-body"@*data-bind="with: User"*@ >

                <form role="form"  >
                    <div class="form-group">
                        <label for="inpFirstName">Имя</label>
                        <input id="inpFirstName" type="text" class="form-control" data-bind="value: User.FirstName"/>
                    </div>
                    <div class="form-group">
                        <label for="inpLastName">Фамилия</label>
                        <input id="inpLastName" type="text" class="form-control"  data-bind="value: User.LastName" />

                    </div>

                </form>

                <input type="button" id="btnAddUser" class="btn btn-primary" value="Добавить"data-bind="click: UserAction.addUser"  />

            </div>
        </div>
    </div>

    <div class="col-md-9" style="float:right;">
        <div class="panel panel-primary">
            <div class="panel-heading">
                <h2 class="panel-title">Список пользователй</h2>
            </div>
            <div class="panel-body">
                <table class="table table-striped table-bordered table-condensed"  data-bind="with: ItemViewModel">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Имя</th>
                            <th>Фамилия</th>
                            <th></th>
                            <th></th>
                        </tr>
                    </thead>

                    <tbody data-bind="foreach: currentPage">
                        <tr>
                            <td data-bind="text: Id"></td>
                            <td data-bind="text: FirstName"></td>
                            <td data-bind="text: LastName"></td>
                            <td><input type="button" class="btn btn-danger btn-xs" value="Удалить" data-bind="click: $root.UserAction.removeUsers" /></td>
                            <td><input type="button" class="btn btn-warning btn-xs" value="Редактировать" id="EditUser" data-bind="click: $parent.editUserDisplay" /></td>
                        </tr>
                    </tbody>
                    <tfoot>
                        <tr>
                            <td colspan="7">
                                Отобразить на странице:
                                <select id="pageSizeSelector" data-bind="value: pageSize">
                                    <option value="5">5</option>
                                    <option value="10">10</option>
                                    <option value="15">15</option>
                                    <option value="20">20</option>
                                    <option value="25">25</option>
                                    <option value="30">30</option>
                                </select>
                                <span style="padding-left:20px;">
                                    <button data-bind="click: previousPage($data)" class="btn btn-sm"><i class="glyphicon glyphicon-step-backward"></i></button>
                                    Страница&nbsp;<label data-bind="text: currentPageIndex() + 1" class="badge"></label>
                                    <button data-bind="click: nextPage($data)" class="btn btn-sm"><i class="glyphicon glyphicon-step-forward"></i></button>
                                </span>
                            </td>
                        </tr>
                    </tfoot>
                </table>
            </div>
        </div>
    </div>
   
    <div class="col-md-3" data-bind="visible: ViewModel.Display">
        <div class="panel panel-info" >
            <div class="panel-heading">
                <h2 class="panel-title">Редактировать  пользователя</h2>
            </div>
            <div class="panel-body"  >

                <form role="form">
                    <div class="form-group">
                        <label for="test">Имя</label>
                        <input id="FirstName" type="text" class="form-control"   data-bind="value: User.FirstName" />
                    </div>
                    <div class="form-group">
                        <label for="LastName">Фамилия</label>
                        <input id="LastName" type="text" class="form-control"  data-bind="value: User.LastName" />
                        <input id="ID" type="hidden" class="form-control" data-bind="value: User.Id"  />
                    </div>

                </form>
                <input type="button" id="btnEditUser" class="btn btn-primary" value="Изменить" data-bind="click: $root.UserAction.editUser"/>
                <input type="button" id="btnCloseEditUser" class="btn btn-danger" value="Отмена" data-bind="click: $root.UserAction.closeEditUser" style="float:right;"/>
            </div>
        </div>
    </div>

</div>

@section scripts{
<script src="~/Scripts/knockout-3.4.2.js"></script>

<script src="~/Scripts/Table.js"></script>
}